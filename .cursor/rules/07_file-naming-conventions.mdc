# File Naming Conventions (System Design in Practice)

**Version**: 1.0  
**Last Updated**: December 24, 2025  
**Priority**: MANDATORY - All new content must follow these conventions

---

## ðŸŽ¯ Core Principle

**Files should represent concepts.  
Folders should represent structure.  
Numbers should represent ordering â€” sparingly.**

If you remember only one line, remember this.

---

## âŒ Anti-Patterns (What NOT to Do)

### âŒ Do NOT encode hierarchy in filenames

**Avoid**:
```
Topic-Part1-A.md
Topic-Part1-B.md
Topic-Part1-A-A.md
Topic-Part1-B-A.md
```

**Why this is wrong**:
- Filenames become brittle and ugly
- `A/B/C` carries no semantic meaning
- Refactoring becomes painful
- URLs are hard to read
- GitHub navigation is confusing

### âŒ Avoid arbitrary "Part" unless it's a published volume

**Avoid** (when semantic names are better):
```
Glossary-Part1.md
Glossary-Part2.md
```

**Why this is wrong**:
- "Part" is an editorial accident, not a concept
- No semantic meaning for readers
- Hard to maintain and reorganize

**Note**: `-part1.md`, `-part2.md` is **ACCEPTABLE** for mechanical splitting when content exceeds 150 lines and cannot be split into distinct concepts. This is better than `Part1-A`, `Part1-B` patterns.

### âŒ Avoid mixing sequence, hierarchy, and versioning

**Avoid**:
```
03_Architecture-Patterns-Part1-A-A.md
03_Architecture-Patterns-Part1-B-B.md
```

**Why this is wrong**:
- Confuses sequence with structure
- Makes it impossible to understand relationships
- Breaks when content is reorganized

---

## âœ… Preferred Patterns

### Pattern 1: Semantic Names (Best for Most Cases)

**Use semantic names that describe the content**:

```
case-studies/
â”œâ”€â”€ url-shortener/
â”‚   â”œâ”€â”€ requirements.md
â”‚   â”œâ”€â”€ high-level-design.md
â”‚   â”œâ”€â”€ low-level-design.md
â”‚   â”œâ”€â”€ scalability.md
â”‚   â””â”€â”€ trade-offs.md
```

**Why this works**:
- Each file has a clear semantic scope
- Easy to add, split, or merge
- GitHub renders `README.md` automatically
- URLs are clean and stable
- Maintainer-friendly

### Pattern 2: Ordered Files (For Learning Sequence)

**Use numbered prefixes ONLY when there's a deliberate learning order**:

```
src/03_foundations/
â”œâ”€â”€ 01_abstractions.md
â”œâ”€â”€ 02_network-abstractions-part1.md
â”œâ”€â”€ 02_network-abstractions-part2.md
â”œâ”€â”€ 03_consistency-models-part1.md
â””â”€â”€ 03_consistency-models-part2.md
```

**Use this when**:
- There is a deliberate reading order
- You control the learning flow
- Sequence is part of the educational design
- Content must be learned in a specific progression

**Current Repository Pattern**: The repository uses numbered prefixes (`01_`, `02_`, etc.) for educational content in `src/01_introduction/` through `src/08_failures/`. This is appropriate because there is a deliberate learning progression.

### Pattern 3: Split Files with `-part1`, `-part2` (For Mechanical Splitting)

**When content exceeds 150 lines and cannot be split into distinct concepts, use `-part1`, `-part2`**:

```
02_network-abstractions-part1.md
02_network-abstractions-part2.md
```

**Why this works**:
- Preserves the base slug so links remain predictable
- Clear that these are parts of the same topic
- Better than `Part1-A`, `Part1-B` patterns
- Maintains file reference stability

**When to use**:
- Content exceeds 150 lines
- Cannot be split into distinct semantic concepts
- Content is a single cohesive topic that must be split mechanically

### Pattern 4: Folder-Based Structure (Best for Growth)

**When content naturally groups, use folders**:

```
src/07_case-studies/
â”œâ”€â”€ 01-scalefromzerotomillonusers/
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ requirements.md
â”‚   â”œâ”€â”€ high-level-design.md
â”‚   â””â”€â”€ diagrams/
â””â”€â”€ 05-url-shortener/
    â”œâ”€â”€ README.md
    â”œâ”€â”€ requirements.md
    â””â”€â”€ diagrams/
```

**Why this works**:
- Structure is clear and navigable
- Easy to expand without renaming
- GitHub navigation is intuitive
- Maintains clean URLs

---

## ðŸ“‹ Naming Rules

### Rule 1: Use Semantic Names When Possible

**âœ… Good**:
- `requirements.md`
- `high-level-design.md`
- `scalability.md`
- `trade-offs.md`

**âŒ Bad**:
- `Part1-A.md`
- `Part1-B.md`
- `Glossary-Part1.md` (unless mechanical splitting)

### Rule 2: Use Hyphens for Multi-Word Names

**âœ… Good**:
- `network-abstractions.md`
- `consistency-models.md`
- `back-of-envelope.md`

**âŒ Bad**:
- `network_abstractions.md` (underscores)
- `networkAbstractions.md` (camelCase)
- `Network Abstractions.md` (spaces)

### Rule 3: Use Numbers Sparingly

**Use numbers ONLY when**:
- There's a deliberate learning sequence
- Order matters for comprehension
- You're certain the order won't change

**âœ… Good** (when sequence matters):
- `01_abstractions.md`
- `02_network-abstractions.md`
- `03_consistency-models.md`

**âŒ Bad** (arbitrary numbering):
- `01_glossary.md` (if order doesn't matter)
- `02_questions.md` (if order doesn't matter)

**Current Repository**: Uses numbered prefixes for educational content (`src/01_introduction/` through `src/08_failures/`) because there is a deliberate learning progression. This is appropriate.

### Rule 4: Use Folders for Structure

**When you need hierarchy, use folders, not filenames**:

**âœ… Good**:
```
case-studies/
â”œâ”€â”€ url-shortener/
â”‚   â”œâ”€â”€ requirements.md
â”‚   â””â”€â”€ scalability.md
```

**âŒ Bad**:
```
case-studies-url-shortener-requirements.md
case-studies-url-shortener-scalability.md
```

---

## ðŸ”„ When to Split Files

### Decision Framework

**Question 1**: Does the content exceed 150 lines?
- **Yes** â†’ Continue to Question 2
- **No** â†’ Keep as single file

**Question 2**: Can the content be split into distinct semantic concepts?
- **Yes** â†’ Split into separate files with semantic names
- **No** â†’ Continue to Question 3

**Question 3**: Is there a natural learning progression?
- **Yes** â†’ Use numbered prefixes: `01_fundamentals.md`, `02_advanced.md`
- **No** â†’ Use `-part1.md`, `-part2.md` for mechanical splitting

**Question 4**: Will these concepts be expanded further?
- **Yes** â†’ Create a folder structure
- **No** â†’ Keep as separate files

### Example: Splitting a Large File

**Before** (problematic):
```
01_Network-Abstractions-Part1-A.md  (150 lines)
01_Network-Abstractions-Part1-B.md  (150 lines)
```

**After** (semantic - preferred):
```
02_network-abstractions-fundamentals.md
02_network-abstractions-implementation.md
```

**After** (mechanical splitting - acceptable):
```
02_network-abstractions-part1.md
02_network-abstractions-part2.md
```

---

## ðŸ“ Folder Structure Best Practices

### Use Folders When:

1. **Content naturally groups**:
   ```
   src/07_case-studies/
   â”œâ”€â”€ 01-scalefromzerotomillonusers/
   â”‚   â”œâ”€â”€ requirements.md
   â”‚   â””â”€â”€ scalability.md
   ```

2. **You expect expansion**:
   ```
   src/07_case-studies/
   â”œâ”€â”€ 05-url-shortener/
   â”‚   â”œâ”€â”€ README.md
   â”‚   â”œâ”€â”€ requirements.md
   â”‚   â””â”€â”€ diagrams/
   ```

3. **You need navigation**:
   ```
   src/07_case-studies/
   â”œâ”€â”€ 05-url-shortener/
   â”‚   â”œâ”€â”€ README.md  # Index with links
   â”‚   â”œâ”€â”€ requirements.md
   â”‚   â””â”€â”€ scalability.md
   ```

### Folder Naming

- Use semantic names: `url-shortener/`, `rate-limiter/`
- Use hyphens for multi-word: `scalefromzerotomillonusers/`
- Use numbers ONLY when sequence matters: `01-scalefromzerotomillonusers/`, `05-url-shortener/`

---

## ðŸ” Examples: Current Repository Patterns

### Example 1: Educational Content (Numbered Sequence)

**Current** (appropriate):
```
src/03_foundations/
â”œâ”€â”€ 01_abstractions.md
â”œâ”€â”€ 02_network-abstractions-part1.md
â”œâ”€â”€ 02_network-abstractions-part2.md
â”œâ”€â”€ 03_consistency-models-part1.md
â””â”€â”€ 03_consistency-models-part2.md
```

**Why this works**:
- Numbered sequence reflects learning progression
- `-part1`, `-part2` used for mechanical splitting (acceptable)
- Clear and maintainable

### Example 2: Case Studies (Semantic Names)

**Current** (appropriate):
```
src/07_case-studies/
â”œâ”€â”€ 01-scalefromzerotomillonusers/
â”‚   â”œâ”€â”€ requirements.md
â”‚   â”œâ”€â”€ high-level-design.md
â”‚   â””â”€â”€ scalability.md
â””â”€â”€ 05-url-shortener/
    â”œâ”€â”€ requirements.md
    â””â”€â”€ scalability.md
```

**Why this works**:
- Semantic names describe content purpose
- Folder structure organizes related files
- Easy to navigate and maintain

---

## ðŸš¨ Migration Strategy

### For New Content

**ALWAYS** use semantic names when possible. Use `-part1`, `-part2` only for mechanical splitting when content cannot be split into distinct concepts.

### For Existing Content

**Option A: Gradual Migration** (Recommended)
- New content uses semantic names
- Existing content remains until refactored
- Migrate when files are updated or expanded

**Option B: Systematic Refactoring**
- Create migration plan
- Refactor folder by folder
- Update all references
- Test thoroughly

---

## ðŸ“ Applying Naming Conventions

### When Creating New Content

**Before writing**:

1. **Choose the right folder** based on learning progression or content type
   - For educational content: Use numbered folders (`src/01_introduction/`, `src/03_foundations/`)
   - For case studies: Create a folder with semantic name (e.g., `05-url-shortener/`)

2. **Choose a filename that matches the concept boundary**:
   - Prefer `NN_concept-name.md` for sequence-based modules (e.g., `01_abstractions.md`)
   - Prefer `concept-name.md` inside case study folders (e.g., `requirements.md`)
   - Use `-part1.md`, `-part2.md` only for mechanical splitting

3. **Keep names URL-friendly**: lowercase, hyphen-separated words, avoid spaces

### When Splitting a File

**Decision process**:

1. **First try to split by concept** (new file) instead of by "Part"
   - Example: `fundamentals.md` and `implementation.md` instead of `topic-part1.md` and `topic-part2.md`

2. **If you still need parts** (mechanical splitting for 150-line limit):
   - Use `-part1`, `-part2` (not `A/B/C`)
   - Preserve the base slug so links remain predictable
   - Example: `02_network-abstractions-part1.md`, `02_network-abstractions-part2.md`

3. **If hierarchy is needed**: Move structure into folders + `README.md` indexes instead of growing filename suffixes

### When Reviewing/Editing Content

**During review, treat naming as part of "maintainability"**:

- **Does the filename match the scope?** If the file title/scope drifted, rename the file or split it
- **Is hierarchy in the right place?** Move structure into folders + `README.md` indexes instead of growing filename suffixes
- **Is ordering intentional?** If numbers exist, they should reflect a real learning sequence. Don't renumber casually (it creates churn and breaks links)
- **Are split files clean?** Prefer `-partN` over letter suffixes; ensure parts are similarly sized and self-contained
- **Are links updated?** If any rename happened, update all inbound links and re-run validation

### Recommended Patterns by Folder Type

**In main learning folders** (e.g., `src/01_introduction/`, `src/03_foundations/`):
- Use ordered files: `NN_topic-slug.md`
- If you must split: `NN_topic-slug-part1.md`, `NN_topic-slug-part2.md` (keep the same `NN_` prefix)

**In case study folders** (e.g., `src/07_case-studies/05-url-shortener/`):
- Prefer semantic topic files like `requirements.md`, `scalability.md`, `trade-offs.md`
- Use `README.md` for navigation within each case study

---

## ðŸ“ Quick Reference

### Decision Tree

```
Is content > 150 lines?
â”œâ”€ No â†’ Single file with semantic name
â””â”€ Yes â†’ Can it be split into distinct concepts?
    â”œâ”€ Yes â†’ Separate files with semantic names
    â””â”€ No â†’ Is there a learning sequence?
        â”œâ”€ Yes â†’ Numbered files: 01_, 02_, etc.
        â””â”€ No â†’ Use -part1, -part2 for mechanical splitting
```

### Rules of Thumb

- **If you feel the need to add `A/B/C` â†’ you need folders**
- **If you feel the need to add `Part1/Part2` â†’ you need better conceptual boundaries**
- **If the filename is doing structural work â†’ it's already wrong**
- **Use `-part1`, `-part2` only for mechanical splitting** (to respect ~150 line limit), not as a long-term hierarchy

---

## âœ… Checklist for New Files

Before creating a new file, ask:

- [ ] Does the filename describe the content semantically?
- [ ] Is the filename readable in a URL?
- [ ] Will the filename survive reordering?
- [ ] Does the filename work with GitHub navigation?
- [ ] Am I encoding hierarchy in the filename? (If yes, use folders instead)

---

**Related Rules**:
- [Educational Content Rules](./01_educational-content-rules.mdc) - Content structure and splitting policy
- [Repository Structure](./02_repository-structure.mdc) - Folder organization
